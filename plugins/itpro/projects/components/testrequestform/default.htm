
{% put styles %}
<link rel="stylesheet" href="{{'assets/css/partials/form-success.css'|theme}}"></link>
{% endput %}

{% put scripts %}
  <script src="{{'assets/js/formValidation.js'|theme}}"></script>
{% endput %}

{% set projects = __SELF__.projects %}

<form 
    class="test-request-popup__form form" 
    data-request="onTestRequestSend" 
    data-request-validate
    data-request-flash
    method='post'>

    <div class="form__field">
        <!--  ~ fieldData.error? 'form__field--error' : '' -->
        <select 
          class="{{ 'form__select basic-text ' }}"
          name="project_id" aria-label="Проект"
        >
          <!-- {!fieldData.value && <option value={fieldData.title} selected class='visually-hidden'>{fieldData.title}</option>} -->
          {% for option in projects %} 
              <option class='basic-text' value="{{option.id}}"> {{option.title}} </option>
          {% endfor %}
        </select>
      <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <input 
          type="text" 
          aria-label="Имя" 
          name="client_name" 
          placeholder="Имя" 
          class="form__select basic-text"
          />
        <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <input 
          type="text" 
          aria-label="Почта" 
          name="email" 
          placeholder="Почта" 
          class="{{ 'form__select basic-text '}}"
          />
        <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <input 
          type="text" 
          aria-label="Цели тестирования" 
          name="description" 
          placeholder="Цели тестирования" 
          class="{{ 'form__select basic-text '}}"
          />
        <p class="form__field__error-label text--small"></p>
      </div>
        <div>
            <button type="submit" class="{{__SELF__.property('buttonClass')}}">Отправить</button>
            <p class='text--small form__field__error-label'>Нажимая кнопку “Отправить” Вы даёте согласие на обработку своих персональных данных.</p>
        </div>
</form>
{% partial 'form/FormSuccess' %}
