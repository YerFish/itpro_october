
{% put scripts %}
  <script src="{{'assets/js/formValidation.js'|theme}}"></script>
{% endput %}

{% set technologies = __SELF__.technologies %}

<form 
    data-request="onSend" 
    data-request-validate
    data-request-flash
    encType="multipart/form-data"
    method='post'
    class="{{__SELF__.property('containerClass')}}" 
    >
    {% for error in errors %}
    <p> {{error}}</p>
    {% endfor %}
    <div class="form__field">
        <input 
          type="text" 
          aria-label="Имя" 
          name="client_name" 
          placeholder="Имя" 
          class="form__select basic-text {% if errors.first('client_name') %} form__field--error{% endif %}"
          />
        <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <input 
          type="text" 
          aria-label="Почта" 
          name="email" 
          placeholder="Почта" 
          class="{{ 'form__select basic-text '}}"
          />
          <!--  ~ fieldData.error? 'form__field--error' : '' }} -->
        <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <!--  ~ fieldData.error? 'form__field--error' : '' -->
        <select 
          class="{{ 'form__select basic-text ' }}"
          name="technology_id" aria-label="Технология"
        >
          <!-- {!fieldData.value && <option value={fieldData.title} selected class='visually-hidden'>{fieldData.title}</option>} -->
          {% for option in technologies %} 
              <option class='basic-text' value="{{option.id}}"> {{option.title}} </option>
          {% endfor %}
        </select>
      <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <input 
          type="text" 
          aria-label="Название проекта" 
          name="project_title" 
          placeholder="Название проекта" 
          class="{{ 'form__select basic-text '}}"
          />
          <!--  ~ fieldData.error? 'form__field--error' : '' }} -->
        <p class="form__field__error-label text--small"></p>
      </div>

      <div class="form__field">
        <!-- ~ fieldData.error? 'form__field--error' : '' -->
        <div class="{{'form__file-wrapper'}}" >
          <div class='form__file-label-wrapper'>
            <label for="file" class='basic-text'>Загрузить описание проекта</label>
          </div>
          <input  id="file" name="file" class='visually-hidden' type="file" />
        </div>
        <p class="form__field__error-label text--small">Поддерживаемые форматы: PDF, DOCX, PNG, JPEG</p>
      </div>

        <div>
            <button type="submit" class="{{__SELF__.property('buttonClass')}}">Отправить</button>
            <p class='text--small form__field__error-label'>Нажимая кнопку “Отправить” Вы даёте согласие на обработку своих персональных данных.</p>
        </div>
</form>